{"version":3,"sources":["toast-container.tsx"],"names":["dims","Dimensions","get","Toasty","Component","constructor","props","message","toastOptions","id","Math","random","toString","onClose","hide","requestAnimationFrame","setState","toasts","state","filter","t","map","toast","render","placement","offset","style","bottom","undefined","top","justifyContent","flexDirection","Platform","OS","styles","container","StyleSheet","create","flex","position","maxWidth","width","alignItems","borderRadius","zIndex","left","right","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Dimensions,\r\n  ViewStyle,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n} from \"react-native\";\r\nimport Toast, { ToastOptions, ToastProps } from \"./toast\";\r\n\r\nconst dims = Dimensions.get(\"window\");\r\n\r\nexport interface Props extends ToastOptions {\r\n  offset?: number;\r\n  placement: \"top\" | \"bottom\";\r\n}\r\n\r\ninterface State {\r\n  toasts: Array<ToastProps>;\r\n}\r\n\r\nclass Toasty extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      toasts: [],\r\n    };\r\n  }\r\n\r\n  static defaultProps = {\r\n    placement: \"bottom\",\r\n    offset: 60,\r\n  };\r\n\r\n  show = (message: string | JSX.Element, toastOptions?: ToastOptions) => {\r\n    let id = Math.random().toString();\r\n    const onClose = () => this.hide(id);\r\n\r\n    requestAnimationFrame(() => {\r\n      this.setState({ toasts: this.state.toasts.filter((t) => t.id !== id) });\r\n      this.setState({\r\n        toasts: [\r\n          {\r\n            id,\r\n            onClose,\r\n            message,\r\n            ...toastOptions,\r\n          },\r\n          ...this.state.toasts,\r\n        ],\r\n      });\r\n    });\r\n\r\n    return id;\r\n  };\r\n\r\n  update = (\r\n    id: string,\r\n    message: string | JSX.Element,\r\n    toastOptions?: ToastOptions\r\n  ) => {\r\n    this.setState({\r\n      toasts: this.state.toasts.map((toast) =>\r\n        toast.id === id ? { ...toast, message, ...toastOptions } : toast\r\n      ),\r\n    });\r\n  };\r\n\r\n  hide = (id: string) => {\r\n    this.setState({ toasts: this.state.toasts.filter((t) => t.id !== id) });\r\n  };\r\n\r\n  render() {\r\n    const { toasts } = this.state;\r\n    let { placement, offset } = this.props;\r\n\r\n    let style: ViewStyle = {\r\n      bottom: placement === \"bottom\" ? offset : undefined,\r\n      top: placement === \"top\" ? offset : undefined,\r\n      justifyContent: placement === \"bottom\" ? \"flex-end\" : \"flex-start\",\r\n      flexDirection: placement === \"bottom\" ? \"column\" : \"column-reverse\",\r\n    };\r\n\r\n    return (\r\n      <KeyboardAvoidingView\r\n        behavior={Platform.OS === \"ios\" ? \"position\" : undefined}\r\n        style={[styles.container, style]}\r\n        pointerEvents=\"box-none\"\r\n      >\r\n        {toasts.map((toast) => (\r\n          <Toast key={toast.id} {...this.props} {...toast} />\r\n        ))}\r\n      </KeyboardAvoidingView>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 0,\r\n    position: \"absolute\",\r\n    maxWidth: dims.width * 10 * 9,\r\n    bottom: 100,\r\n    justifyContent: \"flex-end\",\r\n    alignItems: \"center\",\r\n    borderRadius: 5,\r\n    zIndex: 999,\r\n    left: \"10%\",\r\n    right: \"10%\",\r\n  },\r\n  message: {\r\n    color: \"#333\",\r\n  },\r\n});\r\n\r\nexport default Toasty;\r\n"]}